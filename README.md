# PoliSpectralTools.jl

PoliSpectralTools is a Julia toolbox for solving boundary-value problems and
time-dependent PDEs with spectral collocation (Chebyshev and Legendre bases).
It bundles reusable grids/differentiation matrices, boundary-condition helpers,
high-level BVP/PDE solvers, usage examples, and documentation ready for
registry submission.

> Originally created as the final project for *Introdução aos Métodos Espectrais*
at Escola Politécnica (USP), the package now targets the wider Julia community
> with a general-purpose design (no more "dupla" workflow).

---

## Installation

```julia
julia> import Pkg
julia> Pkg.add(url="https://github.com/<user>/PoliSpectralTools.jl")

julia> using PoliSpectralTools
```

For local development:

```bash
git clone https://github.com/<user>/PoliSpectralTools.jl
cd PoliSpectralTools.jl
julia --project=.
julia> using Pkg; Pkg.instantiate()
```

---

## Features

| Area | Highlights |
| --- | --- |
| Collocation | `Collocation.build_grid` builds Chebyshev/Legendre Lobatto grids with scaled `D₁`, `D₂`. |
| Boundary conditions | Normalization utilities handling Dirichlet/Neumann/Robin specs (numbers or callables). |
| BVP solvers | `solve_linear_bvp`, `solve_nonlinear_bvp` (Newton with optional analytic derivatives). |
| PDE solvers | Diffusion (MOL + RK4), wave (leapfrog with mixed BCs), Poisson 2D (Kronecker). |
| Quadrature | `chebyshev_quadrature`, `chebyshev_gauss_integral`, `chebyshev_lobatto_integral` with automatic domain scaling. |
| Examples | Five scripts covering Chebyshev BVP, diffusion decay, Legendre comparison, nonlinear BVP, wave propagation, plus layered animations (standing wave and pulse reflection). |
| Testing/reporting | `test/runtests.jl` plus `scripts/run_full_report.jl` (console + markdown report, optional coverage). |

---

## Documentation

The `/docs` folder powers GitHub Pages (with MathJax-enabled Jekyll theme):

- `docs/index.md` – navigation hub.
- `docs/USER_GUIDE.md` – installation, API, testing.
- `docs/USAGE_EXAMPLES.md` – detailed math + figures/GIFs.
- `docs/web/index.html` / `docs/web/examples.html` – static HTML portals.

Reports generated by `scripts/run_full_report.jl` land in `reports/`.

---

## Examples

| Script | Scenario |
| --- | --- |
| `examples/bvp_linear.jl` | Chebyshev linear BVP (variable diffusivity). |
| `examples/diffusion.jl` | Diffusion decay vs analytic solution. |
| `examples/bvp_legendre.jl` | Legendre vs Chebyshev accuracy. |
| `examples/bvp_nonlinear.jl` | Nonlinear BVP `y'' = sin(y)` (Newton). |
| `examples/newton_bvp.jl` | Nonlinear BVP `y'' + y^3 = cos(πx)` (Newton with analytic Jacobian). |
| `examples/wave_mixed_bc.jl` | Wave equation with Neumann/Dirichlet BCs. |
| `examples/quadrature.jl` | Chebyshev Gauss/Lobatto quadrature for ∫ e^x dx and ∫ cos(3x) dx. |

Run any example via `julia --project=. include("examples/<name>.jl")`.

---

## Testing

```bash
julia --project=. -e 'include("test/runtests.jl")'
# optional report + coverage
julia --project=. --code-coverage=user scripts/run_full_report.jl
```

The report script emits console stats and writes
a markdown file under `reports/test_report_<timestamp>.md`.

---

## Release Notes

See [`RELEASE_NOTES.md`](RELEASE_NOTES.md) for the changelog. Version 0.2.0
contains all solvers, documentation, examples, and reporting infrastructure.

---

## Contributing

- Browse open ideas in `EXAMPLES_TEST_PLAN.md`.
- Implement new solvers/tests/examples, then run the full suite plus
  `scripts/run_full_report.jl`.
- Submit PRs or issues; CI/coverage scripts are welcome additions.
